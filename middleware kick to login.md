we let ai rewrite the middleware, now it doesn't work. cmon dummy. :/

this is complete!